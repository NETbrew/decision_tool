<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Vite App</title>
  </head>
  <body class="mx-20">
    <header class="mt-16">
      <h1 class="font-bold uppercase text-3xl">Welke kanalen kan ik best gebruiken?</h1>
      <p class="text-slate-500">Vul het formulier onderaan in en je zal de 2 beste media vinden om uw project te adverteren naar de mensen van Nijlen</p>
    </header>
    <main class="mt-10">
      <div>
        <form>
          <p class="py-2">
              <label for="cat1">Categorie 1:</label>
              <input type="range" name="categorie 1" id="cat1" min="1" max="6" value="1">
              <span id="place-cat1" class="py-1 px-2 ml-4 bg-slate-500 rounded text-white">1</span>
          </p>
          <p class="py-2">
              <label for="cat2">Categorie 2:</label>
              <input type="range" name="categorie 2" id="cat2" min="1" max="6" value="1">
              <span id="place-cat2" class="py-1 px-2 ml-4 bg-slate-500 rounded text-white">1</span>
          </p>
          <p class="py-2">
              <label for="cat3">Categorie 3:</label>
              <input type="range" name="categorie 3" id="cat3" min="1" max="6" value="1">
              <span id="place-cat3" class="py-1 px-2 ml-4 bg-slate-500 rounded text-white">1</span>
          </p>
          <p class="py-2">
              <label for="cat4">Categorie 4:</label>
              <input type="range" name="categorie 4" id="cat4" min="1" max="6" value="1">
              <span id="place-cat4" class="py-1 px-2 ml-4 bg-slate-500 rounded text-white">1</span>
          </p>
          <p class="py-2">
              <label for="cat5">Categorie 5:</label>
              <input type="range" name="categorie 5" id="cat5" min="1" max="6" value="1">
              <span id="place-cat5" class="py-1 px-2 ml-4 bg-slate-500 rounded text-white">1</span>
          </p>
          <p  class="pt-2 mb-6">
              <label for="cat6">Categorie 6:</label>
              <input type="range" name="categorie 6" id="cat6" min="1" max="6" value="1">
              <span id="place-cat6" class="py-1 px-2 ml-4 bg-slate-500 rounded text-white">1</span>
          </p>
          <button type="button" class="py-3 px-4 bg-blue-500 text-white rounded-lg" onclick="calculate()">Calculate</button>
      </form>
      </div>
      <div class="mt-10">
        <h2 class="font-bold text-2xl">Aanbevolen kanalen:</h2>
        <ul id="uitkomst">
          <li></li>
        </ul>
      </div>
  </main>

  <script>
      document.addEventListener('DOMContentLoaded', function() {
          const sliders = document.querySelectorAll('input[type="range"]');
          
          sliders.forEach(slider => {
              const span = document.getElementById(`place-${slider.id}`);
              slider.addEventListener('input', function() {
                  span.textContent = slider.value;
              });
          });
      });

      let brief = {'cat1': 1,'cat2': 2,'cat3': 4,'cat4': 5,'cat5': 3,'cat6': 6,}

      let mail = {'cat1': 6,'cat2': 3,'cat3': 5,'cat4': 1,'cat5': 2,'cat6': 4,}

      let facebook = {'cat1': 5,'cat2': 1,'cat3': 4,'cat4': 3,'cat5': 2,'cat6': 2,}

      function getTopTwoValues(dict) {
                // Convert dictionary to an array of key-value pairs
                const entries = Object.entries(dict);

                // Sort the array by values in descending order
                entries.sort((a, b) => b[1] - a[1]);

                // Extract the top two entries
                const topTwo = entries.slice(0, 2);

                return topTwo;
            }

      function calculate() {
        let weightCat1 = document.getElementById('cat1').value;
        let weightCat2 = document.getElementById('cat2').value;
        let weightCat3 = document.getElementById('cat3').value;
        let weightCat4 = document.getElementById('cat4').value;
        let weightCat5 = document.getElementById('cat5').value;
        let weightCat6 = document.getElementById('cat6').value;

        let briefScore = (weightCat1 * brief['cat1']) + (weightCat2 * brief['cat2']) + (weightCat3 * brief['cat3']) + (weightCat4 * brief['cat4']) + (weightCat5 * brief['cat5']) + (weightCat6 * brief['cat6']);
        let mailScore = (weightCat1 * mail['cat1']) + (weightCat2 * mail['cat2']) + (weightCat3 * mail['cat3']) + (weightCat4 * mail['cat4']) + (weightCat5 * mail['cat5']) + (weightCat6 * mail['cat6']);
        let facebookScore = (weightCat1 * facebook['cat1']) + (weightCat2 * facebook['cat2']) + (weightCat3 * facebook['cat3']) + (weightCat4 * facebook['cat4']) + (weightCat5 * facebook['cat5']) + (weightCat6 * facebook['cat6']);

        let finalScores = {
            'brief': briefScore,
            'mail': mailScore,
            'facebook': facebookScore,
        }

       getTopTwoValues(finalScores).forEach(([key, value], index) => {
            const li = document.createElement('li');
            li.textContent = `${index + 1}. ${key}`;
            document.getElementById('uitkomst').appendChild(li);
        });

      }

  </script>
  </body>
</html>
